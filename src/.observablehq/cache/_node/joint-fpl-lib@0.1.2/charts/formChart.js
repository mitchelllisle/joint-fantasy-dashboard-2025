import*as a from"npm:@observablehq/plot";import*as n from"npm:d3";function o(i,{width:l}={}){const t=n.max(i,e=>e.gameweek),r=i.filter(e=>e.gameweek>t-5);return a.plot({title:"Last 5 Gameweeks Form",subtitle:"Position finished each gameweek. 1 = First place, 4 = Last place.",width:l,height:180,marginLeft:120,marginRight:60,x:{label:"Gameweek",tickFormat:e=>`GW${e}`,domain:n.range(t-4,t+1),padding:0},y:{label:null,padding:0},color:{type:"ordinal",domain:[1,2,3,4],range:["#10b981","#fbbf24","#f97316","#ef4444"],legend:!0,label:"Position"},marks:[a.cell(r,{x:"gameweek",y:"team",fill:"rank",tip:!0,inset:0}),a.text(r,{x:"gameweek",y:"team",text:e=>e.rank===1?"1st":e.rank===2?"2nd":e.rank===3?"3rd":"4th",fill:"white",fontWeight:"bold",fontSize:11})]})}export{o as formChart};
